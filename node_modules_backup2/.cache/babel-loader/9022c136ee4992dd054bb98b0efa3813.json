{"ast":null,"code":"/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nconst friendlySyntaxErrorLabel = 'Syntax error:';\nfunction isLikelyASyntaxError(message) {\n  return message.indexOf(friendlySyntaxErrorLabel) !== -1;\n}\n\n// Cleans up webpack error messages.\nfunction formatMessage(message) {\n  let lines = [];\n  if (typeof message === 'string') {\n    lines = message.split('\\n');\n  } else if ('message' in message) {\n    lines = message['message'].split('\\n');\n  } else if (Array.isArray(message)) {\n    message.forEach(message => {\n      if ('message' in message) {\n        lines = message['message'].split('\\n');\n      }\n    });\n  }\n\n  // Strip webpack-added headers off errors/warnings\n  // https://github.com/webpack/webpack/blob/master/lib/ModuleError.js\n  lines = lines.filter(line => !/Module [A-z ]+\\(from/.test(line));\n\n  // Transform parsing error into syntax error\n  // TODO: move this to our ESLint formatter?\n  lines = lines.map(line => {\n    const parsingError = /Line (\\d+):(?:(\\d+):)?\\s*Parsing error: (.+)$/.exec(line);\n    if (!parsingError) {\n      return line;\n    }\n    const [, errorLine, errorColumn, errorMessage] = parsingError;\n    return `${friendlySyntaxErrorLabel} ${errorMessage} (${errorLine}:${errorColumn})`;\n  });\n  message = lines.join('\\n');\n  // Smoosh syntax errors (commonly found in CSS)\n  message = message.replace(/SyntaxError\\s+\\((\\d+):(\\d+)\\)\\s*(.+?)\\n/g, `${friendlySyntaxErrorLabel} $3 ($1:$2)\\n`);\n  // Clean up export errors\n  message = message.replace(/^.*export '(.+?)' was not found in '(.+?)'.*$/gm, `Attempted import error: '$1' is not exported from '$2'.`);\n  message = message.replace(/^.*export 'default' \\(imported as '(.+?)'\\) was not found in '(.+?)'.*$/gm, `Attempted import error: '$2' does not contain a default export (imported as '$1').`);\n  message = message.replace(/^.*export '(.+?)' \\(imported as '(.+?)'\\) was not found in '(.+?)'.*$/gm, `Attempted import error: '$1' is not exported from '$3' (imported as '$2').`);\n  lines = message.split('\\n');\n\n  // Remove leading newline\n  if (lines.length > 2 && lines[1].trim() === '') {\n    lines.splice(1, 1);\n  }\n  // Clean up file name\n  lines[0] = lines[0].replace(/^(.*) \\d+:\\d+-\\d+$/, '$1');\n\n  // Cleans up verbose \"module not found\" messages for files and packages.\n  if (lines[1] && lines[1].indexOf('Module not found: ') === 0) {\n    lines = [lines[0], lines[1].replace('Error: ', '').replace('Module not found: Cannot find file:', 'Cannot find file:')];\n  }\n\n  // Add helpful message for users trying to use Sass for the first time\n  if (lines[1] && lines[1].match(/Cannot find module.+sass/)) {\n    lines[1] = 'To import Sass files, you first need to install sass.\\n';\n    lines[1] += 'Run `npm install sass` or `yarn add sass` inside your workspace.';\n  }\n  message = lines.join('\\n');\n  // Internal stacks are generally useless so we strip them... with the\n  // exception of stacks containing `webpack:` because they're normally\n  // from user code generated by webpack. For more information see\n  // https://github.com/facebook/create-react-app/pull/1050\n  message = message.replace(/^\\s*at\\s((?!webpack:).)*:\\d+:\\d+[\\s)]*(\\n|$)/gm, ''); // at ... ...:x:y\n  message = message.replace(/^\\s*at\\s<anonymous>(\\n|$)/gm, ''); // at <anonymous>\n  lines = message.split('\\n');\n\n  // Remove duplicated newlines\n  lines = lines.filter((line, index, arr) => index === 0 || line.trim() !== '' || line.trim() !== arr[index - 1].trim());\n\n  // Reassemble the message\n  message = lines.join('\\n');\n  return message.trim();\n}\nfunction formatWebpackMessages(json) {\n  const formattedErrors = json.errors.map(formatMessage);\n  const formattedWarnings = json.warnings.map(formatMessage);\n  const result = {\n    errors: formattedErrors,\n    warnings: formattedWarnings\n  };\n  if (result.errors.some(isLikelyASyntaxError)) {\n    // If there are any syntax errors, show just them.\n    result.errors = result.errors.filter(isLikelyASyntaxError);\n  }\n  return result;\n}\nmodule.exports = formatWebpackMessages;","map":{"version":3,"names":["friendlySyntaxErrorLabel","isLikelyASyntaxError","message","indexOf","formatMessage","lines","split","Array","isArray","forEach","filter","line","test","map","parsingError","exec","errorLine","errorColumn","errorMessage","join","replace","length","trim","splice","match","index","arr","formatWebpackMessages","json","formattedErrors","errors","formattedWarnings","warnings","result","some","module","exports"],"sources":["/Users/liqian/projects/tianyahaige/node_modules/react-dev-utils/formatWebpackMessages.js"],"sourcesContent":["/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nconst friendlySyntaxErrorLabel = 'Syntax error:';\n\nfunction isLikelyASyntaxError(message) {\n  return message.indexOf(friendlySyntaxErrorLabel) !== -1;\n}\n\n// Cleans up webpack error messages.\nfunction formatMessage(message) {\n  let lines = [];\n\n  if (typeof message === 'string') {\n    lines = message.split('\\n');\n  } else if ('message' in message) {\n    lines = message['message'].split('\\n');\n  } else if (Array.isArray(message)) {\n    message.forEach(message => {\n      if ('message' in message) {\n        lines = message['message'].split('\\n');\n      }\n    });\n  }\n\n  // Strip webpack-added headers off errors/warnings\n  // https://github.com/webpack/webpack/blob/master/lib/ModuleError.js\n  lines = lines.filter(line => !/Module [A-z ]+\\(from/.test(line));\n\n  // Transform parsing error into syntax error\n  // TODO: move this to our ESLint formatter?\n  lines = lines.map(line => {\n    const parsingError = /Line (\\d+):(?:(\\d+):)?\\s*Parsing error: (.+)$/.exec(\n      line\n    );\n    if (!parsingError) {\n      return line;\n    }\n    const [, errorLine, errorColumn, errorMessage] = parsingError;\n    return `${friendlySyntaxErrorLabel} ${errorMessage} (${errorLine}:${errorColumn})`;\n  });\n\n  message = lines.join('\\n');\n  // Smoosh syntax errors (commonly found in CSS)\n  message = message.replace(\n    /SyntaxError\\s+\\((\\d+):(\\d+)\\)\\s*(.+?)\\n/g,\n    `${friendlySyntaxErrorLabel} $3 ($1:$2)\\n`\n  );\n  // Clean up export errors\n  message = message.replace(\n    /^.*export '(.+?)' was not found in '(.+?)'.*$/gm,\n    `Attempted import error: '$1' is not exported from '$2'.`\n  );\n  message = message.replace(\n    /^.*export 'default' \\(imported as '(.+?)'\\) was not found in '(.+?)'.*$/gm,\n    `Attempted import error: '$2' does not contain a default export (imported as '$1').`\n  );\n  message = message.replace(\n    /^.*export '(.+?)' \\(imported as '(.+?)'\\) was not found in '(.+?)'.*$/gm,\n    `Attempted import error: '$1' is not exported from '$3' (imported as '$2').`\n  );\n  lines = message.split('\\n');\n\n  // Remove leading newline\n  if (lines.length > 2 && lines[1].trim() === '') {\n    lines.splice(1, 1);\n  }\n  // Clean up file name\n  lines[0] = lines[0].replace(/^(.*) \\d+:\\d+-\\d+$/, '$1');\n\n  // Cleans up verbose \"module not found\" messages for files and packages.\n  if (lines[1] && lines[1].indexOf('Module not found: ') === 0) {\n    lines = [\n      lines[0],\n      lines[1]\n        .replace('Error: ', '')\n        .replace('Module not found: Cannot find file:', 'Cannot find file:'),\n    ];\n  }\n\n  // Add helpful message for users trying to use Sass for the first time\n  if (lines[1] && lines[1].match(/Cannot find module.+sass/)) {\n    lines[1] = 'To import Sass files, you first need to install sass.\\n';\n    lines[1] +=\n      'Run `npm install sass` or `yarn add sass` inside your workspace.';\n  }\n\n  message = lines.join('\\n');\n  // Internal stacks are generally useless so we strip them... with the\n  // exception of stacks containing `webpack:` because they're normally\n  // from user code generated by webpack. For more information see\n  // https://github.com/facebook/create-react-app/pull/1050\n  message = message.replace(\n    /^\\s*at\\s((?!webpack:).)*:\\d+:\\d+[\\s)]*(\\n|$)/gm,\n    ''\n  ); // at ... ...:x:y\n  message = message.replace(/^\\s*at\\s<anonymous>(\\n|$)/gm, ''); // at <anonymous>\n  lines = message.split('\\n');\n\n  // Remove duplicated newlines\n  lines = lines.filter(\n    (line, index, arr) =>\n      index === 0 || line.trim() !== '' || line.trim() !== arr[index - 1].trim()\n  );\n\n  // Reassemble the message\n  message = lines.join('\\n');\n  return message.trim();\n}\n\nfunction formatWebpackMessages(json) {\n  const formattedErrors = json.errors.map(formatMessage);\n  const formattedWarnings = json.warnings.map(formatMessage);\n  const result = { errors: formattedErrors, warnings: formattedWarnings };\n  if (result.errors.some(isLikelyASyntaxError)) {\n    // If there are any syntax errors, show just them.\n    result.errors = result.errors.filter(isLikelyASyntaxError);\n  }\n  return result;\n}\n\nmodule.exports = formatWebpackMessages;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}