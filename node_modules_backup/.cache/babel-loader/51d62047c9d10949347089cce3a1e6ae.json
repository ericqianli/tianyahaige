{"ast":null,"code":"import clsx from\"clsx\";import React from\"react\";import ReactResizeDetector from\"react-resize-detector\";import{createStyles,withStyles,withTheme}from\"@material-ui/core\";import{BACKGROUND_ADJUSTED_SIZE_BY_WIDTH,BACKGROUND_SIZE_BY_HEIGHT,BACKGROUND_SIZE_BY_WIDTH,COLUMN_WIDTH,COLUMN_WIDTH_IN_REM,COLUMNS_PER_BACKGROUD,CONTENT_HEIGHT,HALF_COLUMN_WIDTH,ROUTE_INFO_MAP}from\"../constant/Constants\";import BackgroundBodyDark from\"../image/background_body_2x_dark.png\";import BackgroundBodyLight from\"../image/background_body_2x_light.png\";import BackgroundLeftDark from\"../image/background_left_2x_dark.png\";import BackgroundLeftLight from\"../image/background_left_2x_light.png\";import BackgroundRightDark from\"../image/background_right_2x_dark.png\";import BackgroundRightLight from\"../image/background_right_2x_light.png\";import{getFormattedSubtitle}from\"../manager/FormatManager\";const styles=theme=>createStyles({\"@keyframes fadeOut\":{\"0%\":{opacity:1},\"40%\":{opacity:1},\"100%\":{opacity:0}},\"@keyframes fadeIn\":{\"0%\":{opacity:0},\"100%\":{opacity:1}},container:{height:CONTENT_HEIGHT,overflowX:\"scroll\",overflowY:\"hidden\",writingMode:\"vertical-rl\",// To style scrollbar thumb with transition\n// backgroundColor: \"rgba(0,0,0,0)\",\n// WebkitBackgroundClip: \"text\",\n// backgroundClip: \"text\",\n// transition: \"background-color 500ms ease-in-out\",\n\"&::-webkit-scrollbar\":{height:\"1rem\"},\"&::-webkit-scrollbar-track\":{background:\"transparent\"},\"&::-webkit-scrollbar-thumb\":{border:\".25rem solid rgba(0, 0, 0, 0)\",borderRadius:\".5rem\",backgroundClip:\"padding-box\",backgroundColor:\"transparent\"// backgroundColor: \"inherit\",\n},\"&:hover::-webkit-scrollbar-thumb\":{backgroundColor:theme.palette.type===\"light\"?\"rgba(0, 0, 0, .25)\":\"rgba(255, 255, 255, .25)\"}// \"&:hover\": {\n//     backgroundColor:\n//         theme.palette.type === \"light\"\n//             ? \"rgba(0, 0, 0, .25)\"\n//             : \"rgba(255, 255, 255, .25)\",\n// },\n},title:{height:CONTENT_HEIGHT,width:\"32rem\",backgroundSize:BACKGROUND_SIZE_BY_HEIGHT,backgroundPosition:\"center\"},fadeOutAnimation:{animationName:\"$fadeOut\",animationDuration:\"2s\",animationTimingFunction:\"ease-in-out\",animationIterationCount:1},fadeInAnimation:{animationName:\"$fadeIn\",animationDuration:\"2s\",animationTimingFunction:\"ease-in-out\",animationIterationCount:1},bookContent:{height:CONTENT_HEIGHT,backgroundImage:theme.palette.type===\"light\"?`url(${BackgroundBodyLight})`:`url(${BackgroundBodyDark})`,backgroundSize:BACKGROUND_SIZE_BY_WIDTH,backgroundPosition:\"right\",[theme.breakpoints.between(\"sm\",\"md\")]:{backgroundSize:BACKGROUND_ADJUSTED_SIZE_BY_WIDTH}},bookRightSide:{height:CONTENT_HEIGHT,width:\"5rem\",backgroundImage:theme.palette.type===\"light\"?`url(${BackgroundRightLight})`:`url(${BackgroundRightDark})`,backgroundSize:BACKGROUND_SIZE_BY_HEIGHT,backgroundPosition:\"left\",backgroundRepeat:\"no-repeat\"},bookLeftSide:{height:CONTENT_HEIGHT,width:\"5rem\",backgroundImage:theme.palette.type===\"light\"?`url(${BackgroundLeftLight})`:`url(${BackgroundLeftDark})`,backgroundSize:BACKGROUND_SIZE_BY_HEIGHT,backgroundPosition:\"right\",backgroundRepeat:\"no-repeat\"},poemContent:{fontSize:\"2rem\",height:\"40rem\",margin:\"2rem 0\",width:\"fit-content\",lineHeight:COLUMN_WIDTH,textAlign:\"start\",writingMode:\"vertical-rl\",// color: \"black\",\nposition:\"relative\",right:\"-1.1rem\",top:\"-0.1rem\",\"& .header\":{fontSize:\"1rem\",lineHeight:HALF_COLUMN_WIDTH},\"& .title\":{fontSize:\"2rem\",lineHeight:COLUMN_WIDTH,float:\"left\",marginTop:\"4rem\",marginBottom:\"1rem\"},\"& .subtitle\":{verticalAlign:\"top\",display:\"block\"},\"& .body\":{clear:\"both\"},\"& .period\":{marginTop:0,marginBottom:\"-0.75rem\",fontSize:\"0.75rem\",lineHeight:HALF_COLUMN_WIDTH,position:\"relative\",top:\"-0.2rem\",left:\"0.75rem\",display:\"inline-block\"// display: \"none\",\n}}});function PageContent(_ref){let{page}=_ref;return/*#__PURE__*/React.createElement(React.Fragment,null,page.map((line,index)=>/*#__PURE__*/React.createElement(LineContent,{key:index,line:line})));}function LineContent(_ref2){let{line}=_ref2;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(PoemHeader,{key:\"header\",title:line.title,subtitle:line.subtitle}),line.body.split(\"\\r\\n\").map((body,index)=>/*#__PURE__*/React.createElement(PoemBody,{key:index,body:body})));}function PoemHeader(_ref3){let{title,subtitle}=_ref3;const subtitleParts=getFormattedSubtitle(title,subtitle);return/*#__PURE__*/React.createElement(\"div\",{className:\"header\"},/*#__PURE__*/React.createElement(\"span\",{key:\"title\",className:\"title\"},title),subtitleParts.map((subtitle,index)=>/*#__PURE__*/React.createElement(\"span\",{key:`subtitle_${index}`,className:\"subtitle\"},subtitle)));}function PoemBody(_ref4){let{body}=_ref4;const linesOfPoem=body.split(\"︒\").filter(line=>line!==\"\");const compoments=[];for(const index in linesOfPoem){compoments.push(linesOfPoem[index],/*#__PURE__*/React.createElement(Period,{key:index}));}if(!body.endsWith(\"︒\")){compoments.pop();}return/*#__PURE__*/React.createElement(\"div\",{className:\"body\"},compoments);}function Period(){return/*#__PURE__*/React.createElement(\"span\",{className:\"period\"},\"\\uFE12\");}function getRootFontSize(){const rootFontSize=window.getComputedStyle(document.body).getPropertyValue(\"font-size\");const rootFontSizeInPixel=Number(rootFontSize.slice(0,-2));return rootFontSizeInPixel;}class Content extends React.Component{constructor(props){super(props);this.fadeTimeout=void 0;this.state={stage:0};}componentDidMount(){const collection=ROUTE_INFO_MAP[this.props.path].collection;this.props.fetchContent(collection,this.props.sampled);this.fadeTimeout=undefined;this.setState({stage:1});}render(){const{classes,poems,pages,path}=this.props;const themePaletteType=this.props.theme.palette.type;if(poems.length===0){return/*#__PURE__*/React.createElement(\"div\",{key:path,className:classes.title,style:{backgroundImage:themePaletteType===\"light\"?`url(${ROUTE_INFO_MAP[path].backgroundLight})`:`url(${ROUTE_INFO_MAP[path].backgroundDark})`}});}// poems content non empty\nif(this.state.stage===1){if(this.fadeTimeout===undefined){this.fadeTimeout=setTimeout(()=>{this.fadeTimeout&&clearTimeout(this.fadeTimeout);this.fadeTimeout=undefined;this.setState({stage:2});},2000);}return/*#__PURE__*/React.createElement(\"div\",{key:path,className:clsx(classes.title,classes.fadeOutAnimation),style:{backgroundImage:themePaletteType===\"light\"?`url(${ROUTE_INFO_MAP[path].backgroundLight})`:`url(${ROUTE_INFO_MAP[path].backgroundDark})`}});}return/*#__PURE__*/React.createElement(\"div\",{className:clsx(classes.container,classes.fadeInAnimation)},/*#__PURE__*/React.createElement(\"div\",{className:classes.bookRightSide}),/*#__PURE__*/React.createElement(\"div\",{className:classes.bookContent},/*#__PURE__*/React.createElement(ReactResizeDetector,{handleWidth:true,handleHeight:true},_ref5=>{let{width}=_ref5;const rootFontSizeInPixel=getRootFontSize();const columnWidthInPixel=Math.floor(rootFontSizeInPixel*COLUMN_WIDTH_IN_REM);const backgroundWidthInPixel=columnWidthInPixel*COLUMNS_PER_BACKGROUD;return/*#__PURE__*/React.createElement(React.Fragment,null,pages.map((page,index)=>/*#__PURE__*/React.createElement(\"div\",{key:index,className:classes.poemContent,style:{width:`${backgroundWidthInPixel}px`}},/*#__PURE__*/React.createElement(PageContent,{page:page}))));})),/*#__PURE__*/React.createElement(\"div\",{className:classes.bookLeftSide}));}}export default withTheme(withStyles(styles)(Content));","map":{"version":3,"names":["clsx","React","ReactResizeDetector","createStyles","withStyles","withTheme","BACKGROUND_ADJUSTED_SIZE_BY_WIDTH","BACKGROUND_SIZE_BY_HEIGHT","BACKGROUND_SIZE_BY_WIDTH","COLUMN_WIDTH","COLUMN_WIDTH_IN_REM","COLUMNS_PER_BACKGROUD","CONTENT_HEIGHT","HALF_COLUMN_WIDTH","ROUTE_INFO_MAP","BackgroundBodyDark","BackgroundBodyLight","BackgroundLeftDark","BackgroundLeftLight","BackgroundRightDark","BackgroundRightLight","getFormattedSubtitle","styles","theme","opacity","container","height","overflowX","overflowY","writingMode","background","border","borderRadius","backgroundClip","backgroundColor","palette","type","title","width","backgroundSize","backgroundPosition","fadeOutAnimation","animationName","animationDuration","animationTimingFunction","animationIterationCount","fadeInAnimation","bookContent","backgroundImage","breakpoints","between","bookRightSide","backgroundRepeat","bookLeftSide","poemContent","fontSize","margin","lineHeight","textAlign","position","right","top","float","marginTop","marginBottom","verticalAlign","display","clear","left","PageContent","_ref","page","createElement","Fragment","map","line","index","LineContent","key","_ref2","PoemHeader","subtitle","body","split","PoemBody","_ref3","subtitleParts","className","_ref4","linesOfPoem","filter","compoments","push","Period","endsWith","pop","getRootFontSize","rootFontSize","window","getComputedStyle","document","getPropertyValue","rootFontSizeInPixel","Number","slice","Content","Component","constructor","props","fadeTimeout","state","stage","componentDidMount","collection","path","fetchContent","sampled","undefined","setState","render","classes","poems","pages","themePaletteType","length","style","backgroundLight","backgroundDark","setTimeout","clearTimeout","handleWidth","handleHeight","_ref5","columnWidthInPixel","Math","floor","backgroundWidthInPixel"],"sources":["/Users/liqian/projects/tianyahaige/src/component/Content.tsx"],"sourcesContent":["import clsx from \"clsx\";\nimport React from \"react\";\nimport ReactResizeDetector from \"react-resize-detector\";\n\nimport {\n    createStyles,\n    Theme,\n    WithStyles,\n    withStyles,\n    withTheme,\n    WithTheme,\n} from \"@material-ui/core\";\n\nimport {\n    BACKGROUND_ADJUSTED_SIZE_BY_WIDTH,\n    BACKGROUND_SIZE_BY_HEIGHT,\n    BACKGROUND_SIZE_BY_WIDTH,\n    COLUMN_WIDTH,\n    COLUMN_WIDTH_IN_REM,\n    COLUMNS_PER_BACKGROUD,\n    CONTENT_HEIGHT,\n    HALF_COLUMN_WIDTH,\n    ROUTE_INFO_MAP,\n} from \"../constant/Constants\";\nimport BackgroundBodyDark from \"../image/background_body_2x_dark.png\";\nimport BackgroundBodyLight from \"../image/background_body_2x_light.png\";\nimport BackgroundLeftDark from \"../image/background_left_2x_dark.png\";\nimport BackgroundLeftLight from \"../image/background_left_2x_light.png\";\nimport BackgroundRightDark from \"../image/background_right_2x_dark.png\";\nimport BackgroundRightLight from \"../image/background_right_2x_light.png\";\nimport { getFormattedSubtitle } from \"../manager/FormatManager\";\nimport { Line, Page, Poem } from \"../type/Types\";\n\nconst styles = (theme: Theme) =>\n    createStyles({\n        \"@keyframes fadeOut\": {\n            \"0%\": {\n                opacity: 1,\n            },\n            \"40%\": {\n                opacity: 1,\n            },\n            \"100%\": {\n                opacity: 0,\n            },\n        },\n        \"@keyframes fadeIn\": {\n            \"0%\": {\n                opacity: 0,\n            },\n            \"100%\": {\n                opacity: 1,\n            },\n        },\n        container: {\n            height: CONTENT_HEIGHT,\n            overflowX: \"scroll\",\n            overflowY: \"hidden\",\n            writingMode: \"vertical-rl\",\n\n            // To style scrollbar thumb with transition\n            // backgroundColor: \"rgba(0,0,0,0)\",\n            // WebkitBackgroundClip: \"text\",\n            // backgroundClip: \"text\",\n            // transition: \"background-color 500ms ease-in-out\",\n\n            \"&::-webkit-scrollbar\": {\n                height: \"1rem\",\n            },\n            \"&::-webkit-scrollbar-track\": {\n                background: \"transparent\",\n            },\n            \"&::-webkit-scrollbar-thumb\": {\n                border: \".25rem solid rgba(0, 0, 0, 0)\",\n                borderRadius: \".5rem\",\n                backgroundClip: \"padding-box\",\n                backgroundColor: \"transparent\",\n                // backgroundColor: \"inherit\",\n            },\n            \"&:hover::-webkit-scrollbar-thumb\": {\n                backgroundColor:\n                    theme.palette.type === \"light\"\n                        ? \"rgba(0, 0, 0, .25)\"\n                        : \"rgba(255, 255, 255, .25)\",\n            },\n            // \"&:hover\": {\n            //     backgroundColor:\n            //         theme.palette.type === \"light\"\n            //             ? \"rgba(0, 0, 0, .25)\"\n            //             : \"rgba(255, 255, 255, .25)\",\n            // },\n        },\n        title: {\n            height: CONTENT_HEIGHT,\n            width: \"32rem\",\n            backgroundSize: BACKGROUND_SIZE_BY_HEIGHT,\n            backgroundPosition: \"center\",\n        },\n        fadeOutAnimation: {\n            animationName: \"$fadeOut\",\n            animationDuration: \"2s\",\n            animationTimingFunction: \"ease-in-out\",\n            animationIterationCount: 1,\n        },\n        fadeInAnimation: {\n            animationName: \"$fadeIn\",\n            animationDuration: \"2s\",\n            animationTimingFunction: \"ease-in-out\",\n            animationIterationCount: 1,\n        },\n        bookContent: {\n            height: CONTENT_HEIGHT,\n            backgroundImage:\n                theme.palette.type === \"light\"\n                    ? `url(${BackgroundBodyLight})`\n                    : `url(${BackgroundBodyDark})`,\n            backgroundSize: BACKGROUND_SIZE_BY_WIDTH,\n            backgroundPosition: \"right\",\n            [theme.breakpoints.between(\"sm\", \"md\")]: {\n                backgroundSize: BACKGROUND_ADJUSTED_SIZE_BY_WIDTH,\n            },\n        },\n        bookRightSide: {\n            height: CONTENT_HEIGHT,\n            width: \"5rem\",\n            backgroundImage:\n                theme.palette.type === \"light\"\n                    ? `url(${BackgroundRightLight})`\n                    : `url(${BackgroundRightDark})`,\n            backgroundSize: BACKGROUND_SIZE_BY_HEIGHT,\n            backgroundPosition: \"left\",\n            backgroundRepeat: \"no-repeat\",\n        },\n        bookLeftSide: {\n            height: CONTENT_HEIGHT,\n            width: \"5rem\",\n            backgroundImage:\n                theme.palette.type === \"light\"\n                    ? `url(${BackgroundLeftLight})`\n                    : `url(${BackgroundLeftDark})`,\n            backgroundSize: BACKGROUND_SIZE_BY_HEIGHT,\n            backgroundPosition: \"right\",\n            backgroundRepeat: \"no-repeat\",\n        },\n        poemContent: {\n            fontSize: \"2rem\",\n            height: \"40rem\",\n            margin: \"2rem 0\",\n            width: \"fit-content\",\n            lineHeight: COLUMN_WIDTH,\n            textAlign: \"start\",\n            writingMode: \"vertical-rl\",\n            // color: \"black\",\n            position: \"relative\",\n            right: \"-1.1rem\",\n            top: \"-0.1rem\",\n            \"& .header\": {\n                fontSize: \"1rem\",\n                lineHeight: HALF_COLUMN_WIDTH,\n            },\n            \"& .title\": {\n                fontSize: \"2rem\",\n                lineHeight: COLUMN_WIDTH,\n                float: \"left\",\n                marginTop: \"4rem\",\n                marginBottom: \"1rem\",\n            },\n            \"& .subtitle\": {\n                verticalAlign: \"top\",\n                display: \"block\",\n            },\n            \"& .body\": {\n                clear: \"both\",\n            },\n            \"& .period\": {\n                marginTop: 0,\n                marginBottom: \"-0.75rem\",\n                fontSize: \"0.75rem\",\n                lineHeight: HALF_COLUMN_WIDTH,\n                position: \"relative\",\n                top: \"-0.2rem\",\n                left: \"0.75rem\",\n                display: \"inline-block\",\n                // display: \"none\",\n            },\n        },\n    });\n\nfunction PageContent({ page }: { page: Page }) {\n    return (\n        <>\n            {page.map((line, index) => (\n                <LineContent key={index} line={line} />\n            ))}\n        </>\n    );\n}\n\nfunction LineContent({ line }: { line: Line }) {\n    return (\n        <>\n            <PoemHeader\n                key=\"header\"\n                title={line.title}\n                subtitle={line.subtitle}\n            />\n            {line.body.split(\"\\r\\n\").map((body, index) => (\n                <PoemBody key={index} body={body} />\n            ))}\n        </>\n    );\n}\n\nfunction PoemHeader({ title, subtitle }: { title: string; subtitle: string }) {\n    const subtitleParts = getFormattedSubtitle(title, subtitle);\n    return (\n        <div className=\"header\">\n            <span key=\"title\" className=\"title\">\n                {title}\n            </span>\n            {subtitleParts.map((subtitle, index) => (\n                <span key={`subtitle_${index}`} className=\"subtitle\">\n                    {subtitle}\n                </span>\n            ))}\n        </div>\n    );\n}\n\nfunction PoemBody({ body }: { body: string }) {\n    const linesOfPoem = body.split(\"︒\").filter((line) => line !== \"\");\n    const compoments = [];\n\n    for (const index in linesOfPoem) {\n        compoments.push(linesOfPoem[index], <Period key={index} />);\n    }\n\n    if (!body.endsWith(\"︒\")) {\n        compoments.pop();\n    }\n\n    return <div className=\"body\">{compoments}</div>;\n}\n\nfunction Period() {\n    return <span className=\"period\">︒</span>;\n}\n\nfunction getRootFontSize() {\n    const rootFontSize = window\n        .getComputedStyle(document.body)\n        .getPropertyValue(\"font-size\");\n    const rootFontSizeInPixel = Number(rootFontSize.slice(0, -2));\n    return rootFontSizeInPixel;\n}\n\ninterface Props extends WithStyles<typeof styles>, WithTheme {\n    lines: Line[];\n    pages: Page[];\n    poems: Poem[];\n    path: string;\n    sampled: boolean;\n    fetchContent: (collection: number, sampled: boolean) => void;\n}\n\ninterface State {\n    stage: number;\n}\n\nclass Content extends React.Component<Props, State> {\n    fadeTimeout?: NodeJS.Timeout;\n\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            stage: 0,\n        };\n    }\n\n    componentDidMount() {\n        const collection = ROUTE_INFO_MAP[this.props.path].collection;\n        this.props.fetchContent(collection, this.props.sampled);\n        this.fadeTimeout = undefined;\n        this.setState({ stage: 1 });\n    }\n\n    render() {\n        const { classes, poems, pages, path } = this.props;\n\n        const themePaletteType = this.props.theme.palette.type;\n\n        if (poems.length === 0) {\n            return (\n                <div\n                    key={path}\n                    className={classes.title}\n                    style={{\n                        backgroundImage:\n                            themePaletteType === \"light\"\n                                ? `url(${ROUTE_INFO_MAP[path].backgroundLight})`\n                                : `url(${ROUTE_INFO_MAP[path].backgroundDark})`,\n                    }}\n                />\n            );\n        }\n\n        // poems content non empty\n        if (this.state.stage === 1) {\n            if (this.fadeTimeout === undefined) {\n                this.fadeTimeout = setTimeout(() => {\n                    this.fadeTimeout && clearTimeout(this.fadeTimeout);\n                    this.fadeTimeout = undefined;\n                    this.setState({ stage: 2 });\n                }, 2000);\n            }\n\n            return (\n                <div\n                    key={path}\n                    className={clsx(classes.title, classes.fadeOutAnimation)}\n                    style={{\n                        backgroundImage:\n                            themePaletteType === \"light\"\n                                ? `url(${ROUTE_INFO_MAP[path].backgroundLight})`\n                                : `url(${ROUTE_INFO_MAP[path].backgroundDark})`,\n                    }}\n                />\n            );\n        }\n\n        return (\n            <div className={clsx(classes.container, classes.fadeInAnimation)}>\n                <div className={classes.bookRightSide}></div>\n                <div className={classes.bookContent}>\n                    <ReactResizeDetector handleWidth handleHeight>\n                        {({ width }: { width: number }) => {\n                            const rootFontSizeInPixel = getRootFontSize();\n\n                            const columnWidthInPixel = Math.floor(\n                                rootFontSizeInPixel * COLUMN_WIDTH_IN_REM\n                            );\n\n                            const backgroundWidthInPixel =\n                                columnWidthInPixel * COLUMNS_PER_BACKGROUD;\n\n                            return (\n                                <>\n                                    {pages.map((page, index) => (\n                                        <div\n                                            key={index}\n                                            className={classes.poemContent}\n                                            style={{\n                                                width: `${backgroundWidthInPixel}px`,\n                                            }}\n                                        >\n                                            <PageContent page={page} />\n                                        </div>\n                                    ))}\n                                </>\n                            );\n                        }}\n                    </ReactResizeDetector>\n                </div>\n                <div className={classes.bookLeftSide}></div>\n            </div>\n        );\n    }\n}\n\nexport default withTheme(withStyles(styles)(Content));\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}