(this.webpackJsonptianyahaige=this.webpackJsonptianyahaige||[]).push([[0],{40:function(e,t,n){e.exports=n.p+"static/media/background_body.62a99315.jpg"},41:function(e,t,n){e.exports=n.p+"static/media/background_left.50d23bf8.jpg"},42:function(e,t,n){e.exports=n.p+"static/media/background_right.bc21eb1b.jpg"},43:function(e,t,n){e.exports=n.p+"static/media/title.35658cb1.jpg"},58:function(e,t,n){e.exports=n(91)},59:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);n(59);var a,r=n(0),o=n.n(r),i=n(8),c=n.n(i),l=(n(64),n(65),n(18)),s=n(37),m=n.n(s),u=n(104),d=n(106),p=n(9),f=n.n(p),h=n(15);function E(e){return{type:a.RECEIVE_CONTENT,content:e}}!function(e){e.REQUEST_CONTENT="REQUEST_CONTENT",e.RECEIVE_CONTENT="RECEIVE_CONTENT",e.RECEIVE_CONTENT_ERROR="RECEIVE_CONTENT_ERROR"}(a||(a={}));var b=n(38),g=n(39),v=n(53),y=n(51),N=n(50),k=n(105),C=n(52),T=n(40),w=n.n(T),O=n(41),R=n.n(O),S=n(42),_=n.n(S),x=n(43),j=n.n(x);function I(e){var t=e.poems;return o.a.createElement(o.a.Fragment,null,t.map((function(e){return o.a.createElement(Q,{key:e.id,poem:e})})))}function Q(e){var t=e.poem;return o.a.createElement("div",{id:t.id},o.a.createElement(z,{key:"header",title:t.title,subtitle:t.subtitle}),t.body.split("\r\n").map((function(e,t){return o.a.createElement(B,{body:e})})))}function z(e){var t=e.title,n=function(e,t){if(/^[A-Za-z0-9]/.test(t))return t.split("\r\n");var n=t.length;if(n<=4)return[t];for(var a=2*(40-2*e.length-5);n>a;)n-=a,a=80;var r=n>>>1;return[t.slice(0,-r),t.slice(-r)]}(t,e.subtitle);return o.a.createElement("div",{className:"header"},o.a.createElement("span",{key:"title",className:"title"},t),n.map((function(e,t){return o.a.createElement("span",{key:"subtitle_".concat(t),className:"subtitle"},e)})))}function B(e){var t=e.body.split("\ufe12").filter((function(e){return""!==e})),n=[];for(var a in t)n.push(t[a],o.a.createElement(M,{key:a}));return o.a.createElement("div",{className:"body"},n)}function M(){return o.a.createElement("span",{className:"period"},"\ufe12")}var V=function(e){Object(v.a)(n,e);var t=Object(y.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContent()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes;return 0===t.poems.length?o.a.createElement("div",{className:n.title}):o.a.createElement("div",{className:n.container},o.a.createElement("div",{className:n.bookRightSide}),o.a.createElement("div",{className:n.bookContent},o.a.createElement(N.a,{handleWidth:!0},(function(t){var a=t.width,r=a;return isNaN(a)||(r=1824*Math.ceil(a/1824)),a===r?o.a.createElement("div",{className:n.poemContent,style:{minWidth:"".concat(r,"px")}},o.a.createElement(I,{poems:e.props.poems})):o.a.createElement("div",{className:n.poemContent,style:{width:"".concat(r,"px")}},o.a.createElement(I,{poems:e.props.poems}))}))),o.a.createElement("div",{className:n.bookLeftSide}))}}]),n}(o.a.Component),A=Object(C.a)((function(e){return Object(k.a)({container:{height:"44rem",overflowX:"scroll",overflowY:"hidden",backgroundColor:"white",writingMode:"vertical-rl"},title:{height:"44rem",width:"32rem",backgroundImage:"url(".concat(j.a,")"),backgroundSize:"auto 48rem",backgroundPosition:"center"},bookContent:{height:"44rem",backgroundImage:"url(".concat(w.a,")"),backgroundSize:"auto 48rem",backgroundPosition:"right"},bookRightSide:{height:"44rem",width:"4rem",backgroundImage:"url(".concat(_.a,")"),backgroundSize:"auto 48rem",backgroundPosition:"left"},bookLeftSide:{height:"44rem",width:"4rem",backgroundImage:"url(".concat(R.a,")"),backgroundSize:"auto 48rem",backgroundPosition:"right"},poemContent:{fontSize:"2rem",height:"40rem",margin:"2rem 0",width:"fit-content",lineHeight:"2.375rem",textAlign:"start",writingMode:"vertical-rl",color:"black",position:"relative",right:"-1.1rem",top:"-0.1rem","& .header":{fontSize:"1rem",lineHeight:"1.1875rem"},"& .title":{fontSize:"2rem",lineHeight:"2.375rem",float:"left",marginTop:"4rem",marginBottom:"1rem"},"& .subtitle":{verticalAlign:"top",display:"block"},"& .body":{clear:"both"},"& .period":{marginTop:0,marginBottom:"-0.75rem",fontSize:"0.75rem",lineHeight:"1.1875rem",position:"relative",top:"-0.2rem",left:"0.75rem",display:"inline-block"}}})}))(V),P=n(7),H={type:P.QueryType.MYSQL,url:"https://datasweetdata.com:3030/mysql",id:"default_mysql",name:"MySql Playground"};function L(){return Y.apply(this,arguments)}function Y(){return(Y=Object(h.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={type:P.QueryType.MYSQL,source:H,database:"poem",table:"poem",sql:"select * from poem_by_date limit 0, 1000"},e.next=4,Object(P.fetchQueryResultPromise)(t);case 4:return n=e.sent,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var q=n(49);var U=Object(q.a)([function(e){return e.contentState}],(function(e){return(e.content.rows||[]).map((function(e){return{id:e.id,title:e.title||"",subtitle:e.subtitle||"",body:e.camera_ready_content||""}}))}));var W=Object(l.b)((function(e){return{poems:U(e)}}),(function(e){return{fetchContent:function(){var t=Object(h.a)(f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:a.REQUEST_CONTENT}),t.prev=1,t.next=4,L();case 4:n=t.sent,e(E(n)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e((r=t.t0,{type:a.RECEIVE_CONTENT_ERROR,error:r}));case 11:case"end":return t.stop()}var r}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}()}}))(A),J=n(14),K=n(54),Z={content:{type:P.QueryType.MYSQL}};var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.REQUEST_CONTENT:break;case a.RECEIVE_CONTENT:e=Object(K.a)({},e,{content:t.content});break;case a.RECEIVE_CONTENT_ERROR:}return e};var F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{contentState:D(e.contentState,t)}},G=Object(J.b)(F);m.a.load({custom:{families:["Zi Yue Song Ke Ben","Adobe Kaiti Std"],urls:["/fonts.css"]}});var X=Object(u.a)((function(e){return{root:{flexGrow:1},grid:{minHeight:"100vh"},header:{flexBasis:"calc(75vh - 34rem)",display:"flex"},headerContent:{width:"100%"},main:{flexBasis:"44rem",display:"flex",alignItems:"center",justifyContent:"center"},footer:{flexBasis:"calc(25vh - 10rem)",display:"flex"},footerContent:{width:"100%"}}}));var $=function(){var e=X();return o.a.createElement(l.a,{store:G},o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"AppBody"},o.a.createElement(d.a,{className:e.grid,container:!0,direction:"column",justify:"space-between",alignItems:"stretch"},o.a.createElement(d.a,{className:e.header,item:!0,xs:12},o.a.createElement("div",{className:e.headerContent})),o.a.createElement(d.a,{className:e.main,item:!0,xs:12},o.a.createElement(W,null)),o.a.createElement(d.a,{className:e.footer,item:!0,xs:12},o.a.createElement("div",{className:e.footerContent}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[58,1,2]]]);
//# sourceMappingURL=main.199933cc.chunk.js.map