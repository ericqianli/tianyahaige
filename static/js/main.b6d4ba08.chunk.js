(this.webpackJsonptianyahaige=this.webpackJsonptianyahaige||[]).push([[0],{113:function(e,t,n){"use strict";n.r(t);n(78);var a,r=n(0),i=n.n(r),o=n(5),c=n.n(o),l=n(30),s=n(73),u=n(20),m=(n(83),n(84),n(85),n(4)),d=n(37),p=n(56),g=n.n(p),h=n(138),f=n(139),b=n(140),E=n(141),v=n(143),y=n(142),S=n(69),w=n.n(S),T=n(21),k=n.n(T),N=n(32);function C(e){return{type:a.RECEIVE_CONTENT,content:e}}!function(e){e.REQUEST_CONTENT="REQUEST_CONTENT",e.RECEIVE_CONTENT="RECEIVE_CONTENT",e.RECEIVE_CONTENT_ERROR="RECEIVE_CONTENT_ERROR"}(a||(a={}));var O=n(57),R=n(58),j=n(74),x=n(72),_=n(71),z=n(144),B=n(6),I=n(16),K={content:{type:I.QueryType.MYSQL}},M="".concat(114,"rem auto"),H="auto ".concat(48,"rem"),P=n(59),Q=n.n(P),A=n(60),V=n.n(A),F=n(61),W=n.n(F),Y=n(62),L=n.n(Y);function Z(e){var t=e.poems;return i.a.createElement(i.a.Fragment,null,t.map((function(e){return i.a.createElement(q,{key:e.id,poem:e})})))}function q(e){var t=e.poem;return i.a.createElement("div",{id:t.id},i.a.createElement(G,{key:"header",title:t.title,subtitle:t.subtitle}),t.body.split("\r\n").map((function(e,t){return i.a.createElement(U,{body:e})})))}function G(e){var t=e.title,n=function(e,t){if(/^[A-Za-z0-9]/.test(t))return t.split("\r\n");var n=t.length;if(n<=4)return[t];for(var a=2*(40-2*e.length-5);n>a;)n-=a,a=80;var r=n>>>1;return[t.slice(0,-r),t.slice(-r)]}(t,e.subtitle);return i.a.createElement("div",{className:"header"},i.a.createElement("span",{key:"title",className:"title"},t),n.map((function(e,t){return i.a.createElement("span",{key:"subtitle_".concat(t),className:"subtitle"},e)})))}function U(e){var t=e.body.split("\ufe12").filter((function(e){return""!==e})),n=[];for(var a in t)n.push(t[a],i.a.createElement(D,{key:a}));return i.a.createElement("div",{className:"body"},n)}function D(){return i.a.createElement("span",{className:"period"},"\ufe12")}var J=function(e){Object(j.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).numPages=0,e}return Object(R.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContent()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes;return 0===t.poems.length?i.a.createElement("div",{className:n.title}):i.a.createElement("div",{className:n.container},i.a.createElement("div",{className:n.bookRightSide}),i.a.createElement("div",{className:n.bookContent},i.a.createElement(_.a,{handleWidth:!0,handleHeight:!0},(function(t){var a=t.width,r=114*function(){var e=window.getComputedStyle(document.body).getPropertyValue("font-size");return Number(e.slice(0,-2))}();0===e.numPages&&!isNaN(a)&&a>0&&(e.numPages=Math.ceil(a/r));var o=r*e.numPages;return i.a.createElement("div",{className:n.poemContent,style:{width:0===o?"fit-content":"".concat(o,"px")}},i.a.createElement(Z,{poems:e.props.poems}))}))),i.a.createElement("div",{className:n.bookLeftSide}))}}]),n}(i.a.Component),X=Object(B.a)((function(e){return Object(z.a)({container:{height:"44rem",overflowX:"scroll",overflowY:"hidden",backgroundColor:"white",writingMode:"vertical-rl"},title:{height:"44rem",width:"32rem",backgroundImage:"url(".concat(L.a,")"),backgroundSize:M,backgroundPosition:"center"},bookContent:{height:"44rem",backgroundImage:"url(".concat(Q.a,")"),backgroundSize:M,backgroundPosition:"right"},bookRightSide:{height:"44rem",width:"5rem",backgroundImage:"url(".concat(W.a,")"),backgroundSize:H,backgroundPosition:"left",backgroundRepeat:"no-repeat"},bookLeftSide:{height:"44rem",width:"5rem",backgroundImage:"url(".concat(V.a,")"),backgroundSize:H,backgroundPosition:"right",backgroundRepeat:"no-repeat"},poemContent:{fontSize:"2rem",height:"40rem",margin:"2rem 0",width:"fit-content",lineHeight:"2.375rem",textAlign:"start",writingMode:"vertical-rl",color:"black",position:"relative",right:"-1.1rem",top:"-0.1rem","& .header":{fontSize:"1rem",lineHeight:"1.1875rem"},"& .title":{fontSize:"2rem",lineHeight:"2.375rem",float:"left",marginTop:"4rem",marginBottom:"1rem"},"& .subtitle":{verticalAlign:"top",display:"block"},"& .body":{clear:"both"},"& .period":{marginTop:0,marginBottom:"-0.75rem",fontSize:"0.75rem",lineHeight:"1.1875rem",position:"relative",top:"-0.2rem",left:"0.75rem",display:"none"}}})}))(J),$={type:I.QueryType.MYSQL,url:"https://datasweetdata.com:3030/mysql",id:"default_mysql",name:"MySql Playground"};function ee(){return te.apply(this,arguments)}function te(){return(te=Object(N.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={type:I.QueryType.MYSQL,source:$,database:"poem",table:"poem",sql:"select * from poem_by_date limit 0, 10"},e.next=4,Object(I.fetchQueryResultPromise)(t);case 4:return n=e.sent,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var ne=n(68);var ae=Object(ne.a)([function(e){return e.contentState}],(function(e){return(e.content.rows||[]).map((function(e){return{id:e.id,title:e.title||"",subtitle:e.subtitle||"",body:e.camera_ready_content||""}}))}));var re=Object(d.b)((function(e){return{poems:ae(e)}}),(function(e){return{fetchContent:function(){var t=Object(N.a)(k.a.mark((function t(){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:a.REQUEST_CONTENT}),t.prev=1,t.next=4,ee();case 4:n=t.sent,e(C(n)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e((r=t.t0,{type:a.RECEIVE_CONTENT_ERROR,error:r}));case 11:case"end":return t.stop()}var r}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}()}}))(X),ie=n(31);var oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.REQUEST_CONTENT:break;case a.RECEIVE_CONTENT:e=Object(l.a)({},e,{content:t.content});break;case a.RECEIVE_CONTENT_ERROR:}return e};var ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{contentState:oe(e.contentState,t)}},le=Object(ie.b)(ce),se=n(70),ue=Object(se.a)({props:{MuiButtonBase:{disableRipple:!0}},palette:{},typography:{fontFamily:["Zi Yue Song Ke Ben","Adobe Kaiti Std","KaiTi_GB2312","KaiTi","STKaiti","SimSun","STFangsong","STSong"].join(","),h1:{fontWeight:700},h2:{fontWeight:700},h3:{fontSize:"2rem",lineHeight:2,writingMode:"vertical-rl",fontFamily:'"Zi Yue Song Ke Ben", "Adobe Kaiti Std", "KaiTi_GB2312", "KaiTi", "STKaiti", "SimSun", "STFangsong", "STSong"'},h4:{fontWeight:500},h5:{fontSize:"1.25rem",fontWeight:500,lineHeight:1.6},h6:{fontSize:"1rem",fontWeight:500,lineHeight:1.6},body1:{fontSize:"2rem",lineHeight:2,writingMode:"vertical-rl",fontFamily:'"Zi Yue Song Ke Ben", "Adobe Kaiti Std", "KaiTi_GB2312", "KaiTi", "STKaiti", "SimSun", "STFangsong", "STSong"'},subtitle1:{fontSize:"1rem",color:"#444444"},subtitle2:{fontSize:"2rem",lineHeight:"1ex",fontFamily:"'Libre Barcode 39 Extended'"}}});g.a.load({custom:{families:["Zi Yue Song Ke Ben","Adobe Kaiti Std"],urls:["/fonts.css"]}});var me=Object(h.a)((function(e){var t;return{"@global":{html:(t={boxSizing:"border-box"},Object(u.a)(t,ue.breakpoints.down("sm"),{fontSize:8}),Object(u.a)(t,ue.breakpoints.up("md"),{fontSize:16}),Object(u.a)(t,ue.breakpoints.up("xl"),{fontSize:24}),t)},root:{flexGrow:1},grid:{minHeight:"100vh"},header:{flexBasis:"calc(50vh - 18rem)",display:"flex",justifyContent:"center",alignItems:"flex-start"},main:{flexBasis:"44rem",display:"flex",alignItems:"center",justifyContent:"center"},footer:{flexBasis:"calc(50vh - 26rem)"},drawerContent:{height:"calc(50vh - 17.5rem)",minHeight:"9.625rem",display:"flex",justifyContent:"center",alignItems:"center"},menuItems:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",writingMode:"vertical-rl"},list:{width:250},fullList:{width:"auto"},menuButton:{margin:ue.spacing(1),padding:ue.spacing(.5),borderRadius:ue.spacing(.5)},closeButton:{padding:ue.spacing(1),borderRadius:ue.spacing(.5)},hide:{visibility:"hidden"}}}));var de=function(){var e=me(),t=i.a.useState({drawerShown:!1}),n=Object(s.a)(t,2),a=n[0],r=n[1],o=function(e){return function(t){r(Object(l.a)({},a,{drawerShown:e}))}},c=i.a.createElement("div",{className:e.drawerContent,role:"presentation",onClick:o(!1)},i.a.createElement("div",{className:e.menuItems},i.a.createElement(f.a,{variant:"h3",align:"center"},"\u5929\u6daf\u6d77\u95a3"),i.a.createElement(f.a,{variant:"h3",align:"center"},"\u843d\u661f\u96c6"),i.a.createElement(f.a,{variant:"h3",align:"center"},"\u5929\u7afa\u904a\u8a18"),i.a.createElement(f.a,{variant:"h3",align:"center"},"\u5217\u4ed9\u96c6")));return i.a.createElement(d.a,{store:le},i.a.createElement(b.a,{theme:ue},i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"AppBody"},i.a.createElement(E.a,{className:e.grid,container:!0,direction:"column",justify:"space-between",alignItems:"stretch"},i.a.createElement(E.a,{className:e.header,item:!0,xs:12},i.a.createElement(v.a,{color:"inherit","aria-label":"open drawer",onClick:o(!0),edge:"start",className:Object(m.a)(e.menuButton,a.drawerShown&&e.hide)},i.a.createElement(w.a,{fontSize:"default"})),i.a.createElement(y.a,{anchor:"top",open:a.drawerShown,onClose:o(!1)},c)),i.a.createElement(E.a,{className:e.main,item:!0,xs:12},i.a.createElement(re,null)),i.a.createElement(E.a,{className:e.footer,item:!0,xs:12}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},59:function(e,t,n){e.exports=n.p+"static/media/background_body.62a99315.jpg"},60:function(e,t,n){e.exports=n.p+"static/media/background_left.50d23bf8.jpg"},61:function(e,t,n){e.exports=n.p+"static/media/background_right.bc21eb1b.jpg"},62:function(e,t,n){e.exports=n.p+"static/media/title.35658cb1.jpg"},77:function(e,t,n){e.exports=n(113)},78:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){}},[[77,1,2]]]);
//# sourceMappingURL=main.b6d4ba08.chunk.js.map