(this.webpackJsonptianyahaige=this.webpackJsonptianyahaige||[]).push([[0],{125:function(e,t,n){"use strict";n.r(t);n(89);var a,i,r=n(0),o=n.n(r),c=n(6),l=n.n(c),s=n(44),m=n(36),u=n(48),d=n(11),p=(n(94),n(95),n(96),n(4)),g=n(43),f=n(20),h=n(64),b=n.n(h),E=n(150),v=n(151),y=n(152),S=n(153),k=n(155),w=n(154),N=n(80),T=n.n(N),O=n(23),j=n(65),_=n.n(j),C=n(66),x=n.n(C),R=n(67),z=n.n(R),I=n(68),B=n.n(I),K={content:{type:O.QueryType.MYSQL}},M="".concat(114,"rem ").concat(48,"rem"),H="1344px ".concat(48,"rem"),P="auto ".concat(48,"rem"),Q=(a={},Object(d.a)(a,"/",{sql:"select * from poem_by_date limit 0, 10",title:"\u5929\u6daf\u6d77\u69ce",image:_.a}),Object(d.a)(a,"/fallen_star",{sql:"select * from poem_by_date limit 10, 20",title:"\u843d\u661f\u96c6",image:x.a}),Object(d.a)(a,"/india_travel",{sql:"select * from poem_by_date limit 20, 30",title:"\u5929\u7afa\u6563\u8a18",image:z.a}),Object(d.a)(a,"/immortals",{sql:"select * from poem_by_date limit 30, 40",title:"\u5217\u4ed9\u96c6",image:B.a}),a),A=n(26),q=n.n(A),V=n(38);function F(e){return{type:i.RECEIVE_CONTENT,content:e}}!function(e){e.REQUEST_CONTENT="REQUEST_CONTENT",e.RECEIVE_CONTENT="RECEIVE_CONTENT",e.RECEIVE_CONTENT_ERROR="RECEIVE_CONTENT_ERROR"}(i||(i={}));var W=n(69),Y=n(70),L=n(85),Z=n(84),G=n(83),U=n(156),D=n(7),J=n(71),X=n.n(J),$=n(72),ee=n.n($),te=n(73),ne=n.n(te);function ae(e){var t=e.poems;return o.a.createElement(o.a.Fragment,null,t.map((function(e){return o.a.createElement(ie,{key:e.id,poem:e})})))}function ie(e){var t=e.poem;return o.a.createElement("div",{id:t.id},o.a.createElement(re,{key:"header",title:t.title,subtitle:t.subtitle}),t.body.split("\r\n").map((function(e,t){return o.a.createElement(oe,{key:t,body:e})})))}function re(e){var t=e.title,n=function(e,t){if(/^[A-Za-z0-9]/.test(t))return t.split("\r\n");var n=t.length;if(n<=4)return[t];for(var a=2*(40-2*e.length-5);n>a;)n-=a,a=80;var i=n>>>1;return[t.slice(0,-i),t.slice(-i)]}(t,e.subtitle);return o.a.createElement("div",{className:"header"},o.a.createElement("span",{key:"title",className:"title"},t),n.map((function(e,t){return o.a.createElement("span",{key:"subtitle_".concat(t),className:"subtitle"},e)})))}function oe(e){var t=e.body.split("\ufe12").filter((function(e){return""!==e})),n=[];for(var a in t)n.push(t[a],o.a.createElement(ce,{key:a}));return o.a.createElement("div",{className:"body"},n)}function ce(){return o.a.createElement("span",{className:"period"},"\ufe12")}var le=function(e){Object(L.a)(n,e);var t=Object(Z.a)(n);function n(){var e;Object(W.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).numPages=0,e}return Object(Y.a)(n,[{key:"componentDidMount",value:function(){var e=Q[this.props.path].sql;this.props.fetchContent(e),this.numPages=0}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.poems,i=t.path;return 0===a.length?o.a.createElement("div",{className:n.title,style:{backgroundImage:"url(".concat(Q[i].image,")")}}):o.a.createElement("div",{className:n.container},o.a.createElement("div",{className:n.bookRightSide}),o.a.createElement("div",{className:n.bookContent},o.a.createElement(G.a,{handleWidth:!0,handleHeight:!0},(function(t){var a=t.width,i=function(){var e=window.getComputedStyle(document.body).getPropertyValue("font-size");return Number(e.slice(0,-2))}(),r=48*Math.floor(2.375*i);0===e.numPages&&!isNaN(a)&&a>0&&(e.numPages=Math.ceil(a/r));var c=r*e.numPages;return o.a.createElement("div",{className:n.poemContent,style:{width:0===c?"fit-content":"".concat(c,"px")}},o.a.createElement(ae,{poems:e.props.poems}))}))),o.a.createElement("div",{className:n.bookLeftSide}))}}]),n}(o.a.Component),se=Object(D.a)((function(e){return Object(U.a)({container:{height:"44rem",overflowX:"scroll",overflowY:"hidden",backgroundColor:"white",writingMode:"vertical-rl"},title:{height:"44rem",width:"32rem",backgroundSize:P,backgroundPosition:"center"},bookContent:Object(d.a)({height:"44rem",backgroundImage:"url(".concat(X.a,")"),backgroundSize:M,backgroundPosition:"right"},e.breakpoints.only("sm"),{backgroundSize:H}),bookRightSide:{height:"44rem",width:"5rem",backgroundImage:"url(".concat(ne.a,")"),backgroundSize:P,backgroundPosition:"left",backgroundRepeat:"no-repeat"},bookLeftSide:{height:"44rem",width:"5rem",backgroundImage:"url(".concat(ee.a,")"),backgroundSize:P,backgroundPosition:"right",backgroundRepeat:"no-repeat"},poemContent:{fontSize:"2rem",height:"40rem",margin:"2rem 0",width:"fit-content",lineHeight:"2.375rem",textAlign:"start",writingMode:"vertical-rl",color:"black",position:"relative",right:"-1.1875rem",top:"-0.1rem","& .<header>":{fontSize:"1rem",lineHeight:"1.1875rem"},"& .title":{fontSize:"2rem",lineHeight:"2.375rem",float:"left",marginTop:"4rem",marginBottom:"1rem"},"& .subtitle":{verticalAlign:"top",display:"block"},"& .body":{clear:"both"},"& .period":{marginTop:0,marginBottom:"-0.75rem",fontSize:"0.75rem",lineHeight:"1.1875rem",position:"relative",top:"-0.2rem",left:"0.75rem",display:"none"}}})}))(le),me={type:O.QueryType.MYSQL,url:"https://datasweetdata.com:3030/mysql",id:"default_mysql",name:"MySql Playground"};function ue(e){return de.apply(this,arguments)}function de(){return(de=Object(V.a)(q.a.mark((function e(t){var n,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={type:O.QueryType.MYSQL,source:me,database:"poem",table:"poem",sql:t},e.next=4,Object(O.fetchQueryResultPromise)(n);case 4:return a=e.sent,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var pe=n(79);var ge=Object(pe.a)([function(e){return e.contentState}],(function(e){return(e.content.rows||[]).map((function(e){return{id:e.id,title:e.title||"",subtitle:e.subtitle||"",body:e.camera_ready_content||""}}))}));var fe=Object(g.b)((function(e,t){return{poems:ge(e),path:t.location.pathname}}),(function(e){return{fetchContent:function(){var t=Object(V.a)(q.a.mark((function t(n){var a;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:i.REQUEST_CONTENT}),t.prev=1,t.next=4,ue(n);case 4:a=t.sent,e(F(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e((r=t.t0,{type:i.RECEIVE_CONTENT_ERROR,error:r}));case 11:case"end":return t.stop()}var r}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}}))(se),he=n(37);var be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.REQUEST_CONTENT:e=K;break;case i.RECEIVE_CONTENT:e=Object(m.a)({},e,{content:t.content});break;case i.RECEIVE_CONTENT_ERROR:}return e};var Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{contentState:be(e.contentState,t)}},ve=Object(he.b)(Ee),ye=n(82),Se=Object(ye.a)({props:{MuiButtonBase:{disableRipple:!0}},palette:{},typography:{fontFamily:["Zi Yue Song Ke Ben","Adobe Kaiti Std","KaiTi_GB2312","KaiTi","STKaiti","SimSun","STFangsong","STSong"].join(","),h1:{fontWeight:700},h2:{fontWeight:700},h3:{fontSize:"2rem",lineHeight:1,writingMode:"vertical-rl",fontFamily:'"Zi Yue Song Ke Ben", "Adobe Kaiti Std", "KaiTi_GB2312", "KaiTi", "STKaiti", "SimSun", "STFangsong", "STSong"'},h4:{fontWeight:500},h5:{fontSize:"1.25rem",fontWeight:500,lineHeight:1.6},h6:{fontSize:"1rem",fontWeight:500,lineHeight:1.6},body1:{fontSize:"2rem",lineHeight:2,writingMode:"vertical-rl",fontFamily:'"Zi Yue Song Ke Ben", "Adobe Kaiti Std", "KaiTi_GB2312", "KaiTi", "STKaiti", "SimSun", "STFangsong", "STSong"'},subtitle1:{fontSize:"1rem",color:"#444444"},subtitle2:{fontSize:"2rem",lineHeight:"1ex",fontFamily:"'Libre Barcode 39 Extended'"}}});b.a.load({custom:{families:["Zi Yue Song Ke Ben","Adobe Kaiti Std"],urls:["/fonts.css"]}});var ke=Object(E.a)((function(e){var t;return{"@global":{html:(t={boxSizing:"border-box"},Object(d.a)(t,Se.breakpoints.up("xs"),{fontSize:8}),Object(d.a)(t,Se.breakpoints.up("sm"),{fontSize:12}),Object(d.a)(t,Se.breakpoints.up("md"),{fontSize:16}),Object(d.a)(t,Se.breakpoints.up("xl"),{fontSize:24}),t)},root:{flexGrow:1},grid:{minHeight:"100vh"},header:{flexBasis:"calc(50vh - 18rem)",display:"flex",justifyContent:"center",alignItems:"flex-start"},main:{flexBasis:"44rem",display:"flex",alignItems:"center",justifyContent:"center"},footer:{flexBasis:"calc(50vh - 26rem)"},drawerContent:{height:"calc(50vh - 17.5rem)",minHeight:"9.625rem",display:"flex",justifyContent:"center",alignItems:"center"},menuItems:{listStyle:"none",margin:0,padding:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",writingMode:"vertical-rl","& li":{margin:"0 1rem"}},menuItem:{cursor:"pointer"},list:{width:250},fullList:{width:"auto"},menuButton:{margin:Se.spacing(1),padding:Se.spacing(.5),borderRadius:Se.spacing(.5)},closeButton:{padding:Se.spacing(1),borderRadius:Se.spacing(.5)},hide:{visibility:"hidden"}}}));var we=Object(f.e)((function(e){var t=ke(),n=o.a.useState({drawerShown:!1}),a=Object(u.a)(n,2),i=a[0],r=a[1],c=function(e){return function(t){r(Object(m.a)({},i,{drawerShown:e}))}},l=o.a.createElement("div",{className:t.drawerContent,role:"presentation",onClick:c(!1)},o.a.createElement("ul",{className:t.menuItems},Object.entries(Q).map((function(n){var a=Object(u.a)(n,2),i=a[0],r=a[1];return o.a.createElement("li",{key:i},o.a.createElement(v.a,{className:t.menuItem,variant:"h3",align:"center",onClick:function(){e.history.push(i)}},r.title))}))));return o.a.createElement(g.a,{store:ve},o.a.createElement(y.a,{theme:Se},o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"AppBody"},o.a.createElement(S.a,{className:t.grid,container:!0,direction:"column",justify:"space-between",alignItems:"stretch"},o.a.createElement(S.a,{className:t.header,item:!0,xs:12},o.a.createElement(k.a,{color:"inherit","aria-label":"open drawer",onClick:c(!0),edge:"start",className:Object(p.a)(t.menuButton,i.drawerShown&&t.hide)},o.a.createElement(T.a,{fontSize:"default"})),o.a.createElement(w.a,{anchor:"top",open:i.drawerShown,onClose:c(!1)},l)),o.a.createElement(S.a,{className:t.main,item:!0,xs:12},Object.keys(Q).map((function(e){return o.a.createElement(f.a,{key:e,exact:!0,path:e,component:fe})}))),o.a.createElement(S.a,{className:t.footer,item:!0,xs:12}))))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(s.a,{forceRefresh:!1},o.a.createElement(we,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},65:function(e,t,n){e.exports=n.p+"static/media/title_1.d7ccd6ba.jpg"},66:function(e,t,n){e.exports=n.p+"static/media/title_2.a467cf59.jpg"},67:function(e,t,n){e.exports=n.p+"static/media/title_3.c4929b5c.jpg"},68:function(e,t,n){e.exports=n.p+"static/media/title_4.28a7bcae.jpg"},71:function(e,t,n){e.exports=n.p+"static/media/background_body.62a99315.jpg"},72:function(e,t,n){e.exports=n.p+"static/media/background_left.50d23bf8.jpg"},73:function(e,t,n){e.exports=n.p+"static/media/background_right.bc21eb1b.jpg"},88:function(e,t,n){e.exports=n(125)},89:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){}},[[88,1,2]]]);
//# sourceMappingURL=main.211dce29.chunk.js.map